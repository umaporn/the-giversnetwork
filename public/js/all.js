var Translator=function(){const t=JSTranslate.i18n({language:Laravel.languageCodes,defaultLanguage:Laravel.defaultLanguage});return{init:function(){$.holdReady(!0);var e=[];Laravel.languageCodes.forEach(function(t){e.push($.getJSON("/languages/"+t+".json",{timestamp:Date.now()}))}),$.when.apply(this,e).then(function(){for(var e=0;e<arguments.length;e++)t.add({language:Laravel.languageCodes[e],data:arguments[e][0]});t.useLanguage(Laravel.currentLanguage)},function(){Utility.displayErrorMessageBox("Error! Failed to load some translation files, please contact the system administrator.")}).always(function(){$.holdReady(!1)})},translate:function(e){return t.translate(e)}}}(jQuery),Utility=function(){const t=$("#result-box"),e=$("#result-title"),r=$("#result-text");var a=function(a,n){o(),r.html(a),r.hasClass("alert")?n||(e.html(Translator.translate("utility.result.success")),r.removeClass("alert")):n&&(e.html(Translator.translate("utility.result.error")),r.addClass("alert")),t.foundation("open")},n=function(t){a(t,!1)},s=function(t){a(t,!0)},o=function(){$("form").children().removeClass("error"),$(".help-text").addClass("hide")},i=function(t){o();for(name in t){var e=$("[name="+name+"]").attr("id"),r="object"==typeof t[name]?t[name][0]:t[name];if(e)$("#"+e).addClass("error"),$("#"+e+"-help-text").text(r).removeClass("hide");else{var a=$('[name="'+name+'[]"]').parent("fieldset").attr("id");$("#"+a+"-help-text").text(r).removeClass("hide")}}},l=function(t,e){o();var r="<h5>"+Translator.translate("utility.calling_system_administrator")+"</h5>";r+="<strong>"+Translator.translate("utility.error_url")+"</strong> "+e+"<br>",r+="<strong>"+Translator.translate("utility.error_status_code")+"</strong> "+t.status+"<br>",r+="<strong>"+Translator.translate("utility.error_status_text")+"</strong> "+t.statusText+"<br>",s(r)},u=function(e,r){var a=r.responseJSON;-1!==$.inArray(r.status,[422,423])?i(a):!0===a.success?a.hasOwnProperty("message")?(t.on("closed.zf.reveal",function(){a.redirectedUrl?location.href=a.redirectedUrl:e.reset()}),n(a.message)):a.redirectedUrl&&(location.href=a.redirectedUrl):s(a.message)},c=function(t,e,r){e.hasOwnProperty("responseJSON")?"function"==typeof r?r.apply(this,[t,e]):u(t,e):l(e,t.getAttribute("action"))};return{submitForm:function(t,e){var r=document.querySelector(t),a=r.getAttribute("method"),n="GET"===a?$(t).serialize():new FormData(r);$.ajax({url:r.getAttribute("action"),method:a,data:n,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(t,a,n){c(r,n,e)},error:function(t){c(r,t,e)}})},displaySuccessMessageBox:n,displayErrorMessageBox:s,displayInvalidInputs:i,displayUnexpectedError:l,clearErrors:o}}(jQuery),Forms=function(){const t=["#change-password-form","#login-form","#register-form","#password-reset-request-form","#password-reset-form"];return{init:function(){t.forEach(function(t){$(t).submit(function(e){e.preventDefault(),Utility.submitForm(t)})})}}}(jQuery);const SpinnerSelector=$("#spinner, #spinner-popup");Translator.init(),$(document).ajaxStart(function(){SpinnerSelector.show()}).ajaxComplete(function(){SpinnerSelector.hide()}).ready(function(){Forms.init()});