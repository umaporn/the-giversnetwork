var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HeroBanner=function(){function e(){new Swiper(".swiper-container",{loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}return{initialize:e}}(jQuery),Confirmation=function(){function e(e,t){a.data("form-id","#"+e.attr("id")),a.data("callback-function",function(e,t){switch(t.status){case 422:Utility.displayErrorMessageBox(Object.values(t.responseJSON.errors).join("<br>"));break;case 200:if(t.hasOwnProperty("responseJSON")){var n=t.responseJSON;!0===n.success?(Utility.displaySuccessMessageBox(n.message),n.hasOwnProperty("message")&&$("#result-box").on("closed.zf.reveal",function(){n.redirectedUrl?location.href=n.redirectedUrl:e.trigger("reset")})):Utility.displayErrorMessageBox(n.message)}else Utility.displayJsonResponseError(t,e.attr("action"));break;default:Utility.displayUnknownError(t,e.attr("action"))}}),i.html(e.data("deletion-confirmation-message")+e.data("info")+"?"),n.foundation("open")}function t(){a.click(function(e){e.preventDefault(),n.foundation("close"),Utility.submitForm($(a.data("form-id")),a.data("callback-function"))})}var n=$("#confirmation-box"),i=$("#confirmation-text"),a=$("#yes-answer");return{confirmToDelete:e,initialize:t}}(jQuery),Form=function(){function e(){t.submit(function(e){e.preventDefault(),Utility.submitForm($(this))}),n.submit(function(e){var t=this;e.preventDefault(),_submitEvent=function(){Utility.submitForm($(t))}}),a.submit(function(e){tinyMCE.triggerSave(),e.preventDefault(),Utility.submitForm($(this))}),Search.SearchForm.submit(function(e){e.preventDefault(),Search.submitForm($(this))}),Search.ResultDiv.on("submit",i,function(e){e.preventDefault(),Confirmation.confirmToDelete($(this),Search.SearchForm)}),$(".deletion").submit(function(e){e.preventDefault(),Confirmation.confirmToDelete($(this),Search.SearchForm)}),$("#file-image").MultiFile({max:1,accept:"jpg|png|gif"}),$("#image_path").MultiFile({max:10,accept:"jpg|png|gif"}),$("#image_path_thai").MultiFile({max:10,accept:"jpg|png|gif"}),$("#image_path_english").MultiFile({max:10,accept:"jpg|png|gif"}),$("#file_path").MultiFile({max:1,accept:"pdf"}),$(".toggle-password").click(function(){$(this).text("show"===$(this).text()?"hide":"show");var e=$("input[class='form-fill password']");"password"===e.attr("type")?e.attr("type","text"):e.attr("type","password")}),$(".toggle-use-address").change(function(){var e=$("#address");$(this).prop("checked")?e.attr("disabled",!0):e.removeAttr("disabled")});$("#count_message").html("200 remaining"),$("#content_english").keyup(function(){var e=$("#content_english").val().length,t=200-e;$("#count_message").html(t+" remaining")}),$(".reg-min").click(function(){$(".form-group, .button-reg").slideToggle(180,"linear",function(){$(this).is(":hidden")?($(".form-head").css("margin-bottom","0"),$(".reg-min").find("i").addClass("fa-angle-up"),$(".reg-min").find("i").removeClass("fa-angle-down")):($(".form-head").css("margin-bottom","20px"),$(".reg-min").find("i").removeClass("fa-angle-up"),$(".reg-min").find("i").addClass("fa-angle-down"))})})}var t=$(".submission-form"),n=$(".recaptcha-form"),i=".deletion",a=$(".tinyMCE-form");return{initialize:e}}(jQuery),Slide=function(){function e(){if($(".slide-thumb, .slide-thumb-give").length){var e=new Swiper(".gallery-top",{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0,loopedSlides:4}),t=new Swiper(".gallery-thumbs",{spaceBetween:10,centeredSlides:!0,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0,loop:!0,loopedSlides:4});e.controller.control=t,t.controller.control=e}}return{initialize:e}}(jQuery),Menu=function(){function e(){$(".menu li.active.is-submenu-item").parent().parents().each(function(e,t){$(t).is("li")&&$(t).addClass("active")})}return{initialize:e}}(jQuery),Search=function(){function e(e){i.removeClass("alert"),Utility.submitForm(e,function(e,t){switch(Utility.clearErrors(),t.status){case 422:Utility.displayInvalidInputs(t.responseJSON),i.html("");break;case 200:t.responseJSON.type?"give"===t.responseJSON.type?(a.empty(),a.html(t.responseJSON.data)):(r.empty(),r.html(t.responseJSON.data)):(i.empty(),i.html(t.responseJSON.data)),$("input[name=search]").empty();break;default:var n=t.statusText;t.hasOwnProperty("responseJSON")&&t.responseJSON.hasOwnProperty("message")&&(n=t.responseJSON.message),i.html(Translator.translate("error")+" "+n).addClass("alert")}})}function t(){i.on("click",".pagination a",function(t){t.preventDefault();var n=document.createElement("form");n.setAttribute("method","GET"),n.setAttribute("action",$(this).attr("href")),e($(n))})}function n(){t()}var i=$("#search-result"),a=$("#give-result-box"),r=$("#receive-result-box"),o=$("#search-form");$("#search-form-detail");return{ResultDiv:i,SearchForm:o,initialize:n,submitForm:e}}(jQuery),Translator=function(){function e(){$.holdReady(!0);var e=[];Laravel.languageCodes.forEach(function(t){e.push($.getJSON("/languages/"+t+".json",{timestamp:Date.now()}))}),$.when.apply(this,e).then(function(){for(var e=0;e<arguments.length;e++)n.add({language:Laravel.languageCodes[e],data:arguments[e][0]});n.useLanguage(Laravel.currentLanguage)},function(){Utility.displayErrorMessageBox("Error! Failed to load some translation files, please contact the system administrator.")}).always(function(){$.holdReady(!1)})}function t(e){return n.translate(e)}var n=JSTranslate.i18n({language:Laravel.languageCodes,defaultLanguage:Laravel.defaultLanguage});return{initialize:e,translate:t}}(jQuery),Utility=function(){function e(e,t){i(),p.html(e),p.hasClass("alert")?t||(m.html(Translator.translate("utility.result.success")),p.removeClass("alert")):t&&(m.html(Translator.translate("utility.result.error")),p.addClass("alert")),d.foundation("open")}function t(t){e(t,!1)}function n(t){e(t,!0)}function i(){$(":input").removeClass("error"),$(".alert.help-text").addClass("hide")}function a(e){if(i(),e.hasOwnProperty("errors"))for(var t in e.errors){var n=e.errors[t],a=/^[^.]+\.\d+$/.test(t)?t.replace(".",""):$('[name="'+t+'"]').attr("id"),r="object"===(void 0===n?"undefined":_typeof(n))?n[0]:n;if(a)$("#"+a).addClass("error"),$("#"+a+"-help-text").text(r).removeClass("hide");else{var o=$('[name="'+t+'[]"]').parents(".checkbox-group").attr("id");$("#"+o+"-help-text").text(r).removeClass("hide")}}}function r(e,t){i();var a="<h5>"+Translator.translate("utility.calling_system_administrator")+"</h5>";a+="<strong>"+Translator.translate("utility.error_url")+"</strong> "+t+"<br>",a+="<strong>"+Translator.translate("utility.error_status_code")+"</strong> "+e.status+"<br>",a+="<strong>"+Translator.translate("utility.error_status_text")+"</strong> "+e.statusText+"<br>",n(a)}function o(e,t){e.statusText=Translator.translate("utility.json_response_error"),r(e,t)}function s(e,t){switch(t.status){case 422:case 429:a(t.responseJSON);break;case 200:if(t.hasOwnProperty("responseJSON")){var i=t.responseJSON;!0===i.success?i.redirectedUrl&&(location.href=i.redirectedUrl):n(i.message)}else o(t,e.attr("action"));break;default:t.hasOwnProperty("responseJSON")&&t.responseJSON.hasOwnProperty("message")?n(t.responseJSON.message):r(t,e.attr("action"))}}function l(e,t,n){"function"==typeof n?n.apply(this,[e,t]):s(e,t)}function c(e){return"GET"===e.attr("method")?e.serialize():new FormData(e.get(0))}function u(e,t){$.ajax({url:e.attr("action"),method:e.attr("method"),data:c(e),cache:!1,contentType:!1,processData:!1,success:function(n,i,a){l(e,a,t)},error:function(n){l(e,n,t)}})}var d=$("#result-box"),m=$("#result-title"),p=$("#result-text");return{submitForm:u,displaySuccessMessageBox:t,displayErrorMessageBox:n,displayInvalidInputs:a,displayUnknownError:r,displayJsonResponseError:o,clearErrors:i,ResultBoxSelector:d,takeSubmitAction:s}}(jQuery),GiveTab=function(){function e(){$("#give-category > a").click(function(){var e=$(this).attr("data-url");$.ajax({url:e,method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){$("#give-result-box").html(e)}})}),$(".give-tab > a").click(function(){var e=$(this).attr("data-url");$("#search-form > input[name=type]").val("give"),$.ajax({url:e,method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){$("#give-result-box").html(e.data)}})}),$(".receive-tab > a").click(function(){var e=$(this).attr("data-url");$("#search-form > input[name=type]").val("receive"),$.ajax({url:e,method:"GET",cache:!1,contentType:!1,processData:!1,success:function(e){$("#receive-result-box").html(e.data)}})}),$(".give-filter, .organization-filter").change(function(){window.location=$(this).val()})}return{initialize:e}}(jQuery),LoadMore=function(){function e(){$(document).on("click","#loadMore",function(){Utility.clearErrors();var e=$(this).attr("data-url");$.ajax({url:e,method:"GET",cache:!1,contentType:!1,processData:!1,success:function(t){e?($("#loadMore").remove(),$("#content-list-box").append(t.data)):$("#loadMore").hide()}})}),$(document).on("click","#loadMore-give",function(){Utility.clearErrors();var e=$(this).attr("data-url");$.ajax({url:e,method:"GET",cache:!1,contentType:!1,processData:!1,success:function(t){e?($(".give-load").remove(),$("#give-result-box > #content-list-box").append(t.data)):$(".give-load").remove()}})}),$(document).on("click","#loadMore-receive",function(){Utility.clearErrors();var e=$(this).attr("data-url");$.ajax({url:e,method:"GET",cache:!1,contentType:!1,processData:!1,success:function(t){e?($(".give-load").remove(),$("#receive-result-box > #content-list-box").append(t.data)):$(".give-load").remove()}})})}return{initialize:e}}(jQuery),InterestIn=function(){function e(){$(".checkbox-inter").click(function(){var e=$(this).data("value"),t=$(this).data("title"),n='<li class="item-'+e+'">'+t+'</li><input type="hidden" name="fk_interest_in_id[]" id="fk_interest_in_id" class="input-'+e+'" value="'+e+'">';$(this).parent().hasClass("form-checkbox-ed")?($("li").remove(".item-"+e),$("input").remove(".input-"+e)):$("#interest-list").append(n),$(this).parent().toggleClass("form-checkbox-ed")})}return{initialize:e}}(jQuery),Like=function(){function e(){$(document).on("click",".share-like-button",function(e){$(".spinner-box").removeAttr("id"),e.preventDefault();var n=$("#like-action"),i=n.attr("action"),a=n.attr("method"),r=$("#show-like-box");$.ajax({url:i,method:a,data:t(n),cache:!1,contentType:!1,processData:!1,success:function(e){e.data&&(r.empty(),r.append(e.data),$(".spinner-box").attr("id","spinner"))}})})}function t(e){return"GET"===e.attr("method")?e.serialize():new FormData(e.get(0))}return{initialize:e}}(jQuery),Comment=function(){function e(){n.submit(function(e){e.preventDefault(),Utility.clearErrors();var n=$("#show-comment-box");$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),data:t($(this)),cache:!1,contentType:!1,processData:!1,success:function(e){e.data&&(n.empty(),n.append(e.data)),$("#comment_text").val("")},error:function(e){Utility.takeSubmitAction($(this),e)}})})}function t(e){return"GET"===e.attr("method")?e.serialize():new FormData(e.get(0))}var n=$(".comment-form");return{initialize:e}}(jQuery),Counter=function(){function e(){if(t.length){$("#count_title_english").html("90 remaining"),$(t).keyup(function(){var e=t.val().length,n=90-e;$("#count_title_english").html(n+" remaining")})}if(n.length){$("#count_content_english").html(3e4+" remaining"),$(n).keyup(function(){var e=n.val().length,t=3e4-e;$("#count_content_english").html(t+" remaining")})}if(i.length){$("#count_name").html("90 remaining"),$(i).keyup(function(){var e=i.val().length,t=90-e;$("#count_name").html(t+" remaining")})}if(a.length){$("#count_description_text").html("3000 remaining"),$(a).keyup(function(){var e=a.val().length,t=3e3-e;$("#count_description_text").html(t+" remaining")})}}var t=$("input[id=title_english]"),n=$("#content_english"),i=$("#name"),a=$("#description_text");return{initialize:e}}(jQuery),TinyMCE=function(){function e(){$(o).length&&tinyMCE.init({selector:o,height:500,menubar:!0,relative_urls:!1,plugins:[l],file_browser_callback_types:"image",toolbar:s,file_picker_callback:n,save_onsavecallback:t})}function t(e){var t=$("#"+e.id).closest("form"),n=t.attr("action");$.ajax({url:n,method:"POST",data:t.serialize(),dataType:"json",success:function(t,n,a){t.success?Utility.displaySuccessMessageBox(Translator.translate("tinymce.success_update")):i(a,e.id)},error:function(t){i(t,e.id)}})}function n(e,t,n){$(u).val(""),"image"===n.filetype&&($(u).off(),$(u).change(function(t){r(t,e)}),$(u).click())}function i(e,t){Utility.displayErrorMessageBox(Translator.translate("tinymce.error_message")),a(t)}function a(e){var t=$("#"+e).closest("form").find('input[name="current_content"]').val();tinymce.get(e).setContent(t)}function r(e,t){$(c).off(),$(c).submit(function(e){e.preventDefault();var n=$(this).attr("action"),i=document.querySelector(c),a=new FormData(i),r=Translator.translate("tinymce.uploading_file_failure");$.each(e.target.files,function(e,t){a.append("image",t)}),$.ajax({method:"POST",url:n,data:a,cache:!1,contentType:!1,processData:!1,success:function(e,n,i){!0===e.success?t(e.path):Utility.displayErrorMessageBox(r)},error:function(){Utility.displayErrorMessageBox(r)}})}),$(c).submit()}var o="#content-tinymce-english, #content-tinymce-thai",s="undo redo | styleselect | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist | link image table | code preview save",l=(s.replace("save",""),"advlist autolink lists link image preview anchor media table contextmenu paste code textcolor colorpicker save"),c="#tinymce-uploadform",u="#tinymce-uploadfile";return{initialize:e}}(jQuery),Fancybox=function(){function e(){"use strict";$("[data-fancybox]").fancybox({loop:!0,protect:!0,buttons:["slideShow","zoom","close"]}),$(".map-click").fancybox({buttons:["download","zoom","close"]}),$(".head-box").on("sticky.zf.stuckto:top",function(){$(this).addClass("head-box-size")}).on("sticky.zf.unstuckfrom:top",function(){$(this).removeClass("head-box-size")}),$(".nav-mobile-click").on("toggled.zf.responsiveToggle",function(){$(this).toggleClass("nav-mobile-bg"),$(".head-show, .nav-mobile-click").addClass("nav-animation")}),$(".content-all,.head-show").click(function(){Foundation.MediaQuery.atLeast("xlarge")||$(".head-show").css("display","none")}),$(".social-click").on("click",function(){$(".social-click-sub").toggle()})}return{initialize:e}}(jQuery),Video=function(){function e(){var e=$(".video-js");$(".play").click(function(t){t.preventDefault();var n=e.data("youtube");e.append('<iframe width="560" height="315" src="https://www.youtube.com/embed/'+n+'?autoplay=1&amp;rel=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>'),$(this).hide()})}return{initialize:e}}(jQuery),SpinnerSelector=$("#spinner, #spinner-popup");Translator.initialize(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ajaxStart(function(){SpinnerSelector.show()}).ajaxComplete(function(){SpinnerSelector.hide()}).ready(function(){Menu.initialize(),Search.initialize(),Confirmation.initialize(),Form.initialize(),HeroBanner.initialize(),GiveTab.initialize(),LoadMore.initialize(),Slide.initialize(),InterestIn.initialize(),Like.initialize(),Comment.initialize(),Counter.initialize(),TinyMCE.initialize(),Fancybox.initialize(),Video.initialize()});
