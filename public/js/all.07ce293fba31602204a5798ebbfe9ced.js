var Translator=function(){const t=JSTranslate.i18n({language:Laravel.languageCodes,defaultLanguage:Laravel.defaultLanguage});return{init:function(){$.holdReady(!0);var e=[];Laravel.languageCodes.forEach(function(t){e.push($.getJSON("/languages/"+t+".json",{timestamp:Date.now()}))}),$.when.apply(this,e).then(function(){for(var e=0;e<arguments.length;e++)t.add({language:Laravel.languageCodes[e],data:arguments[e][0]});t.useLanguage(Laravel.currentLanguage)},function(){Utility.displayErrorMessageBox("Error! Failed to load some translation files, please contact the system administrator.")}).always(function(){$.holdReady(!1)})},translate:function(e){return t.translate(e)}}}(jQuery),Utility=function(){const t=$("#result-box"),e=$("#result-title"),a=$("#result-text");var r=function(r,n){o(),a.html(r),a.hasClass("alert")?n||(e.html(Translator.translate("utility.result.success")),a.removeClass("alert")):n&&(e.html(Translator.translate("utility.result.error")),a.addClass("alert")),t.foundation("open")},n=function(t){r(t,!1)},s=function(t){r(t,!0)},o=function(){$("input").removeClass("error"),$(".help-text").addClass("hide")},i=function(t){o();for(name in t){var e=$("input[name="+name+"]").attr("id"),a="object"==typeof t[name]?t[name][0]:t[name];$("#"+e).addClass("error"),$("#"+e+"-help-text").text(a).removeClass("hide")}},l=function(t,e){o();var a="<h5>"+Translator.translate("utility.calling_system_administrator")+"</h5>";a+="<strong>"+Translator.translate("utility.error_url")+"</strong> "+e+"<br>",a+="<strong>"+Translator.translate("utility.error_status_code")+"</strong> "+t.status+"<br>",a+="<strong>"+Translator.translate("utility.error_status_text")+"</strong> "+t.statusText+"<br>",s(a)},u=function(e,a){if(a.hasOwnProperty("responseJSON")){var r=a.responseJSON;422===a.status?i(r):!0===r.success?r.hasOwnProperty("message")?(t.on("closed.zf.reveal",function(){302===a.status?location.href=r.redirectedUrl:(e.reset(),$(e).find("select").change())}),n(r.message)):302===a.status&&(location.href=r.redirectedUrl):s(r.message)}else l(a,e.getAttribute("action"))},c=function(t,e,a){"function"==typeof a?a.call(t,e):u(t,e)};return{submitForm:function(t,e){var a=document.querySelector(t),r=a.getAttribute("method"),n=new FormData(a);$.ajax({url:a.getAttribute("action"),method:r,data:n,cache:!1,contentType:!1,processData:!1,dataType:"json",success:function(t,r,n){c(a,n,e)},error:function(t){c(a,t,e)}})},displaySuccessMessageBox:n}}(jQuery),Forms=function(){const t=["#change-password-form","#login-form","#register-form","#password-reset-request-form","#password-reset-form"];return{init:function(){t.forEach(function(t){$(t).submit(function(e){e.preventDefault(),Utility.submitForm(t)})})}}}(jQuery);const SpinnerSelector=$("#spinner");Translator.init(),$(document).ajaxStart(function(){SpinnerSelector.show()}).ajaxComplete(function(){SpinnerSelector.hide()}).ready(function(){Forms.init()});